<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title th:text"${title}"></title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../css/main_styles.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>

<!-- Navegation bar -->
<header>
<nav class="navbar navbar-dark bg-primary " style="background-color: #ffffff; margin-bottom: 0px;">

	<div class="navbar-header">
		<img src="..\images\logonav.png" width="60" height="57" class="navbar-left" id="logonav">
	</div>
	<ul class="nav navbar-nav"
		style="background-color: #ffffff; color: #0f407a; font-size: medium; margin-top: 5px; font-weight: bold;">
		<li class="active"><a href="#">Grabaciones</a></li>
		<li><a href="#">Estadísticas</a></li>
		<li><a data-toggle="modal" data-target=".bd-example-modal-lg-stream">Directo</a></li>
	</ul>

	<!-- dropmenu -->
	<ul class="nav navbar-right" style="background-color: #ffffff; height: 50px; margin-top: 5px; margin-right: 15px">
		<!-- dropmenu account -->
		<li class="btn-group dropleft" id="account-menu">
			<a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
				<img src="..\images\account.png" width="30" height="30">
			</a>
			<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink"
				style="height: 150px; width: 200px; border: 5px solid #0f407a;">
				<a class="dropdown-item" data-toggle="modal" data-target=".bd-example-modal-lg-name"
					style="font-size: medium; color: #0f407a;">- Change name <br></a>
				<a class="dropdown-item" data-toggle="modal" data-target=".bd-example-modal-lg-password"
					style="font-size: medium; color: #0f407a;">- Change password <br></a>
				<a class="dropdown-item" data-toggle="modal" data-target=".bd-example-modal-lg-email"
					style="font-size: medium; color: #0f407a;">- Change email <br></a>
				<p style="color: #0f407a; font-weight: bold;">--------------------------------<br></p>
				<a class="dropdown-item" href="#" style="color: #0f407a; font-weight: bold;">Sign out</a>
			</div>
		</li>

		<!--<button data-target=".movil-aside"><img src="..\images\movil-menu.png" width="30" height="30"></button>
			<div class="movil-aside">
				<a class="dropdown-item" style="font-size: medium; color: #0f407a;" href="#">Grabaciones <br></a>
				<a class="dropdown-item" style="font-size: medium; color: #0f407a;" href="#">Estadísticas <br></a>
				<a class="dropdown-item" style="font-size: medium; color: #0f407a;" data-toggle="modal" data-target=".bd-example-modal-lg-stream">Directo <br></a>
				<a class="dropdown-item" style="font-size: medium; color: #0f407a; font-weight: bold;" href="#" style="color: #0f407a">Sign out <br></a>
				<a class="dropdown-item" style="font-size: medium; color: #0f407a;" href="#">Filtro </a>
			</div> -->
			
	</ul>
</nav>
</header>


<body>
	<!--Contenedor central-->
	<div class="container-fluid">
		<div id="filter" class="row">
			<form method="get" action="/main">
				<!--Filter-->
				<aside class="col-xs-12 col-sm-3 col-md-3 col-lg-2"
					style="background: #143968; margin: 0px; height: 900px;">
					<div class="form-group">
						<label for="example-date-input" class="col-form-label">DESDE</label>
						<div>
							<input class="form-control" type="date" name="from" th:value="${from}" />
						</div>
					</div>
					<div class="form-group">
						<label for="example-date-input" class="col-form-label">HASTA</label>
						<div>
							<input class="form-control" type="date" name="to" th:value="${to}" />
						</div>
					</div>
					<button class="btn btn-primary" type="submit">Buscar</button>
				</aside>
			</form>

			<!-- acordeon table -->

			<section class="col-xs-12 col-sm-9 col-md-9 col-lg-10" style="background: #0f407a; color: black;">
				<div id="accordion" th:each="record:${record}">
					<div class="card" style="border: 10px solid #143968">
						<div class="card-header" id="headingTwo">
							<h5 class="mb-0">
								<button class="btn btn-link collapsed" style="color: black; font-weight: bold;"
									data-toggle="collapse"
									th:attr="data-target='#collapse'+${record.id}, aria-controls='collapse'+${record.id}"
									aria-expanded="false">
									Grabacion | <span th:text="${record.date}"></span>
								</button>
							</h5>
						</div>
						<div th:id="'collapse'+${record.id}" class="collapse" aria-labelledby="headingTwo"
							data-parent="#accordion">
							<div class="card-body" style="padding: 10px; border-top: 3px solid #143968;">
								<table style="width: 100%">
									<tr>
										<th>Camara nº:</th>
										<td th:text="${record.camera}"></td>
									</tr>
									<tr>
										<th>Duracion:</th>
										<td th:text="${record.duration}"></td>
									</tr>
								</table>
								<!-- Aún hay que hacer la parte del vídeo con th -->
								<button type="button" class="btn btn-primary" data-toggle="modal"
									data-target=".bd-example-modal-lg-record">Vídeo</button>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>
	</div>
		<footer>
			<div class="container col-xs-12">
				<a href="https://futurepath.dev/"><img src="..\images\futurepath.png" id="futurepath_icon"
						style="height: 30px; width: 80px; float: left;"></a>
				<a href="https://facebook.com"><img src="../SM_icons/facebook.png" id="facebook_icon"
						style="float: right; margin-left: 10px;"></a>
				<a href="https://linkedin.com"><img src="../SM_icons/linkedin.png" id="linkedin_icon"
						style="float: right; margin-left: 10px;"></a>
				<a href="https://reddit.com"><img src="../SM_icons/reddit.png" id="reddit_icon"
						style="float: right; margin-left: 10px;"></a>
				<a href="https://twitter.com"><img src="../SM_icons/twitter.png" id="twitter_icon"
						style="float: right;"></a>
			</div>
		</footer>
	</div>
</body>



<!-- Stream modal -->

<div class="modal fade bd-example-modal-lg-stream" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
	aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-header">
			<button type="button" class="close" style="background-color: white;" data-dismiss="modal"
				aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		<div class="modal-content"
			style="border-top: 5px solid #0f407a; border-left: 5px solid #0f407a; border-right: 5px solid #0f407a;">
			<img src="http://192.168.2.119:8000/stream.mjpg" width="100%" height="auto">
		</div>
		<div class="modal-footer"
			style="text-align: center; color: white; font-size: larger; background: #0f407a; width: 100%;">
			<h4>CAMERA 1</h4>
		</div>
	</div>
</div>

<!-- record modal -->
<div class="modal fade bd-example-modal-lg-record" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
	aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<iframe width="100%" height="500px" src="https://www.youtube.com/embed/W3Jd0k7gv9c" frameborder="0"
				allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
				allowfullscreen></iframe>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
	</div>
</div>

<!-- Modal change password -->
<div class="modal fade bd-example-modal-lg-password" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
	aria-hidden="true">
	<div class="modal-dialog modal-lg-password">
		<div class="modal-content" style="width: auto;height: auto;background: lightgrey">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h5 class="modal-title">Administrar datos</h5>
			</div>
			<div class="modal-body">
				<form class="adminData-form">
					<small class="form-text text-muted">Introduzca en primer lugar su contraseña actual</small>
					<div class="form-group">
						<label>Contraseña actual</label>
						<input type="password" style="border: 1px solid #0f407a;margin-bottom: 50px;" required>
					</div>
					<div class="form-group">
						<label>Nueva contraseña:</label>
						<input type="password" style="border: 1px solid #0f407a" required>
					</div>
					<div class="form-group">
						<label>R. nueva contraseña:</label>
						<input type="password" style="border: 1px solid #0f407a" required>
					</div>
					<button type="submit" class="btn btn-primary">Change!</button>
				</form>
			</div>
			<div class="modal-footer">
			</div>
		</div>
	</div>
</div>

<!-- Modal change name -->
<div class="modal fade bd-example-modal-lg-name" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
	aria-hidden="true">
	<div class="modal-dialog modal-lg-name">
		<div class="modal-content" style="width: auto;height: auto;background: lightgrey">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h5 class="modal-title">Administrar datos</h5>
			</div>
			<div class="modal-body">
				<form class="adminData-form">
					<div class="form-group">
						<label>Nuevo nombre:</label>
						<input type="text" style="border: 1px solid #0f407a" required>
					</div>
					<button type="submit" class="btn btn-primary">Change!</button>
				</form>
			</div>
			<div class="modal-footer">
			</div>
		</div>
	</div>
</div>

<!-- Modal change email -->
<div class="modal fade bd-example-modal-lg-email" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
	aria-hidden="true">
	<div class="modal-dialog modal-lg-email">
		<div class="modal-content" style="width: auto;height: auto;background: lightgrey">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h5 class="modal-title">Administrar datos</h5>
			</div>
			<div class="modal-body">
				<form class="adminData-form">
					<small class="form-text text-muted">Introduzca en primer lugar su contraseña actual</small>
					<div class="form-group">
						<label>Contraseña actual</label>
						<input type="password" style="border: 1px solid #0f407a;margin-bottom: 50px;" required>
					</div>
					<div class="form-group">
						<label>Nuevo email:</label>
						<input type="email" style="border: 1px solid #0f407a" required>
					</div>
					<div class="form-group">
						<label>R. nuevo email:</label>
						<input type="email" style="border: 1px solid #0f407a" required>
					</div>
					<button type="submit" class="btn btn-primary">Change!</button>
				</form>
			</div>
			<div class="modal-footer">
			</div>
		</div>
	</div>
</div>

</html>